{"version":3,"sources":["galeria.js"],"names":["imagen","document","createElement","overlay","body","querySelector","botones","cerrarModal","siguienteModal","anteriorModal","imagenes","querySelectorAll","imagenActual","listenerGalerias","forEach","element","addEventListener","e","nombreImg","target","src","split","slice","listarImagenes","arrObImagenes","findIndex","objeto","nombre","ampliarImagen","onclick","ocultarImagen","cambiarImagen","index","numeroImagenes","mostrarImagen","remove","classList","anterior","console","log","innerHTML","add","appendChild","listado","id","childNodes","arrayNombreImg","uniqId","imagenObj","push"],"mappings":"AAAA,MAAMA,OAASC,SAASC,cAAc,WAChCC,QAAUF,SAASC,cAAc,OACjCE,KAAOH,SAASI,cAAc,QAC9BC,QAAUL,SAASC,cAAc,OACjCK,YAAcN,SAASC,cAAc,OACrCM,eAAiBP,SAASC,cAAc,OACxCO,cAAgBR,SAASC,cAAc,OACvCQ,SAAWT,SAASU,iBAAiB,oBAC3C,IAAIC,aAAe,KAMnB,SAASC,mBACPH,SAASI,QAASC,IAChBA,EAAQC,iBAAiB,QAAUC,IACjC,IACIC,EADiBD,EAAEE,OAAOC,IAAIC,MAAM,qBACT,GAAGC,MAAM,EAAG,IAE3CV,aAAeW,iBAAiBC,cAAcC,UAAUC,GAAQA,EAAOC,SAAWT,GAClFU,cAAchB,kBAMlBL,YAAYsB,QAAU,WACpBC,gBACAlB,aAAe,MAIjBZ,OAAO6B,QAAU,WACfC,iBAIFrB,cAAcoB,QAAU,WACtBE,eAAc,IAEhBvB,eAAeqB,QAAU,WACvBE,eAAc,IAKlB,SAASH,cAAcI,GAErBC,eAAiBV,iBAAiBU,eAGlCC,cAAcF,GAIhB,SAASF,gBACP3B,QAAQgC,SACR/B,KAAKgC,UAAUD,OAAO,cAGxB,SAASJ,cAAcM,IAGJ,IAAbA,GACFP,gBACAQ,QAAQC,IAAI3B,cACZA,eACIA,aAAa,EAAI,IACnBA,aAAeqB,eAAe,GAEhCK,QAAQC,IAAI3B,cAEZsB,cAActB,gBAEdkB,gBACAlB,eACIA,aAAa,EAAIqB,iBACnBrB,aAAe,GAEjBsB,cAActB,eAIlB,SAASsB,cAAcF,GACnBd,UAAYK,iBAAiBC,cAAcQ,GAAOL,OACpD3B,OAAOwC,UAAY,0DAEatB,iFACNA,2HAI1Bf,QAAQiC,UAAUK,IAAI,WACtBtC,QAAQuC,YAAY1C,QAGpBI,KAAKsC,YAAYvC,SACjBC,KAAKgC,UAAUK,IAAI,cAGnBlC,YAAYiC,UAAY,6ZAOxBhC,eAAegC,UAAY,4aAQ3B/B,cAAc+B,UAAY,0aAQ1BlC,QAAQ8B,UAAUK,IAAI,WACtBtC,QAAQuC,YAAYpC,SACpBG,cAAc2B,UAAUK,IAAI,WAAY,kBACxCnC,QAAQoC,YAAYjC,eACpBF,YAAY6B,UAAUK,IAAI,SAAU,kBACpCnC,QAAQoC,YAAYnC,aACpBC,eAAe4B,UAAUK,IAAI,WAAY,kBACzCnC,QAAQoC,YAAYlC,gBAGtB,SAASe,iBAEP,IAAIU,EAAiB,EACjBT,EAAgB,GAEpB,MAAMmB,EAAU,CACdV,eAAAA,EACAT,cAAAA,GAoBF,OAjBAd,SAASI,QAASC,IAChBkB,IAEAW,GAAK7B,EAAQ8B,WAAW,GAAGD,GAAGvB,MAAM,OAAO,GAC3CyB,eAAiB/B,EAAQ8B,WAAW,GAAGzB,IAAIC,MAAM,qBACjD0B,OAASD,eAAe,GAAGxB,MAAM,EAAG,IAEpC,IAAI0B,EAAY,CACdJ,GAAIA,GACJjB,OAAQoB,QAEVvB,EAAcyB,KAAKD,KAGrBL,EAAQV,eAAiBA,EACzBU,EAAQnB,cAAgBA,EAEjBmB,EAvJT1C,SAASe,iBAAiB,oBAAoB,WAC5CH","file":"galeria.js","sourcesContent":["const imagen = document.createElement(\"picture\");\r\nconst overlay = document.createElement(\"DIV\");\r\nconst body = document.querySelector(\"body\");\r\nconst botones = document.createElement(\"DIV\");\r\nconst cerrarModal = document.createElement(\"SVG\");\r\nconst siguienteModal = document.createElement(\"SVG\");\r\nconst anteriorModal = document.createElement(\"SVG\");\r\nconst imagenes = document.querySelectorAll(\".galeria--imagen\");\r\nlet imagenActual = null;\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  listenerGalerias();\r\n});\r\n\r\nfunction listenerGalerias() { //* FUNCIONA\r\n  imagenes.forEach((element) => {\r\n    element.addEventListener(\"click\", (e) => {\r\n      let arrayNombreImg = e.target.src.split(\"miniaturas/thumb_\");\r\n      let nombreImg = arrayNombreImg[1].slice(0, 32);\r\n\r\n      imagenActual = listarImagenes().arrObImagenes.findIndex(objeto=>objeto.nombre === nombreImg);\r\n      ampliarImagen(imagenActual);\r\n\r\n    });\r\n  });\r\n\r\n  // Detectar click en bot칩n\r\n  cerrarModal.onclick = function () {\r\n    ocultarImagen();\r\n    imagenActual = null;\r\n  };\r\n\r\n  // Detectar click en imagen\r\n  imagen.onclick = function () {\r\n    ocultarImagen();\r\n  };\r\n\r\n  // anterior y sigiente\r\n  anteriorModal.onclick = function () {\r\n    cambiarImagen(true);\r\n  };\r\n  siguienteModal.onclick = function () {\r\n    cambiarImagen(false);\r\n  };\r\n  //TODO A침adir deslizar\r\n}\r\n\r\nfunction ampliarImagen(index) { //* FUNCIONA\r\n  // Obtener el numero de imagenes de la galeria\r\n  numeroImagenes = listarImagenes().numeroImagenes;\r\n\r\n  // Mostrar la imagen\r\n  mostrarImagen(index);\r\n}\r\n\r\n// eliminaci칩n de elementos creados\r\nfunction ocultarImagen() { //* FUNCIONA\r\n  overlay.remove();\r\n  body.classList.remove(\"fijar-body\");\r\n}\r\n\r\nfunction cambiarImagen(anterior) { \r\n    // Las imagenes no se muestran por ID si no por el UNIQID\r\n\r\n  if (anterior === true) {\r\n    ocultarImagen();\r\n    console.log(imagenActual);\r\n    imagenActual--;\r\n    if (imagenActual+1 < 1) {\r\n      imagenActual = numeroImagenes-1;\r\n    }\r\n    console.log(imagenActual);\r\n\r\n    mostrarImagen(imagenActual);\r\n  } else {\r\n    ocultarImagen();\r\n    imagenActual++;\r\n    if (imagenActual+1 > numeroImagenes) {\r\n      imagenActual = 0;\r\n    }\r\n    mostrarImagen(imagenActual);\r\n  }\r\n}\r\n\r\nfunction mostrarImagen(index) { //* FUNCIONA\r\n    nombreImg = listarImagenes().arrObImagenes[index].nombre\r\n  imagen.innerHTML = `\r\n          <picture>\r\n          <source srcset=\"fotos/${nombreImg}.webp\" type=\"image/webp\">                \r\n          <img src=\"fotos/${nombreImg}.jpg\" alt=\"Imagen talleres Eurocada, taller chapa y pintura Torres de la Alameda Madrid\">\r\n          </picture>`;\r\n  // Overlay con la imagen\r\n\r\n  overlay.classList.add(\"overlay\");\r\n  overlay.appendChild(imagen);\r\n  // body para asignar el overlay\r\n\r\n  body.appendChild(overlay);\r\n  body.classList.add(\"fijar-body\");\r\n  // Bot칩n para cerrar ventana modal y los botones siguiente y anterior\r\n\r\n  cerrarModal.innerHTML = `\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-x\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#000000\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n          <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n          <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n          <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n          </svg>`;\r\n\r\n  siguienteModal.innerHTML = `\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-arrow-right\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#000000\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n          <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n          <path d=\"M5 12l14 0\" />\r\n          <path d=\"M13 18l6 -6\" />\r\n          <path d=\"M13 6l6 6\" />\r\n          </svg>`;\r\n\r\n  anteriorModal.innerHTML = `\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-arrow-left\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#000000\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n          <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n          <path d=\"M5 12l14 0\" />\r\n          <path d=\"M5 12l6 6\" />\r\n          <path d=\"M5 12l6 -6\" />\r\n          </svg>`;\r\n\r\n  botones.classList.add(\"botones\");\r\n  overlay.appendChild(botones);\r\n  anteriorModal.classList.add(\"anterior\", \"boton--gallery\");\r\n  botones.appendChild(anteriorModal);\r\n  cerrarModal.classList.add(\"cerrar\", \"boton--gallery\");\r\n  botones.appendChild(cerrarModal);\r\n  siguienteModal.classList.add(\"sigiente\", \"boton--gallery\");\r\n  botones.appendChild(siguienteModal);\r\n}\r\n\r\nfunction listarImagenes() { //* FUNCIONA\r\n  // Esta funcion retorna en un objeto el numero de imagenes y un array de objetos con la id y el nombre unico de cada imagen sin extensiones\r\n  let numeroImagenes = 0;\r\n  let arrObImagenes = [];\r\n\r\n  const listado = {\r\n    numeroImagenes,\r\n    arrObImagenes,\r\n  };\r\n\r\n  imagenes.forEach((element) => {\r\n    numeroImagenes++;\r\n\r\n    id = element.childNodes[1].id.split(\"img\")[1];\r\n    arrayNombreImg = element.childNodes[1].src.split(\"miniaturas/thumb_\");\r\n    uniqId = arrayNombreImg[1].slice(0, 32);\r\n\r\n    let imagenObj = {\r\n      id: id,\r\n      nombre: uniqId,\r\n    };\r\n    arrObImagenes.push(imagenObj);\r\n  });\r\n\r\n  listado.numeroImagenes = numeroImagenes;\r\n  listado.arrObImagenes = arrObImagenes;\r\n\r\n  return listado;\r\n}\r\n"]}