{"version":3,"sources":["servicios.js"],"names":["selectorPieza","document","querySelectorAll","formPieza","total","querySelector","todasPiezasPrecio","todasPiezas","file1","getElementById","file2","file3","labelFile1","labelFile2","labelFile3","iniEstado","forEach","element","result","extraeNombre","checked","classList","add","sumatorio","remove","eventListenersServicios","addEventListener","e","target","contains","part","id","ePart","filename","files","textContent","precioTotal","Number","parseFloat","value","innerHTML","toFixed","sumarTodasPiezas","precioCompleto","name","match"],"mappings":"AAAA,MAAMA,cAAgBC,SAASC,iBAAiB,oBAC1CC,UAAYF,SAASC,iBAAiB,gBACtCE,MAAQH,SAASI,cAAc,iBAC/BC,kBAAoBL,SAASI,cAAc,yBAC3CE,YAAcN,SAASI,cAAc,iBACrCG,MAAQP,SAASQ,eAAe,SAChCC,MAAQT,SAASQ,eAAe,SAChCE,MAAQV,SAASQ,eAAe,SAChCG,WAAaX,SAASQ,eAAe,eACrCI,WAAaZ,SAASQ,eAAe,eACrCK,WAAab,SAASQ,eAAe,eAU3C,SAASM,YAELZ,UAAUa,QAAQC,IAElB,IAAIC,EAASC,aAAaF,GACvB,IAAwB,IAApBA,EAAQG,QAAkB,CAETnB,SAASI,cAAc,IAAIa,GACjCG,UAAUC,IAAI,qBAC5BC,gBAEG,CACiBtB,SAASI,cAAc,IAAIa,GACjCG,UAAUG,OAAO,qBAC/BD,eAKR,SAASE,0BACLzB,cAAcgB,QAAQC,IAClBA,EAAQS,iBAAiB,QAAUC,IAE3BA,EAAEC,OAAOP,UAAUQ,SAAS,qBAC5BF,EAAEC,OAAOP,UAAUG,OAAO,qBAE1BG,EAAEC,OAAOP,UAAUC,IAAI,qBAG3B,IAAIQ,EAAOH,EAAEC,OAAOG,GAChBC,EAAQ/B,SAASI,cAAc,qBAAqByB,SAClC,IAAlBE,EAAMZ,QACNY,EAAMZ,SAAU,EAEhBY,EAAMZ,SAAU,EAEpBG,gBAGRpB,UAAUa,QAAQC,IACdA,EAAQS,iBAAiB,QAAUC,IAE/B,IAAIT,EAASC,aAAaQ,EAAEC,QAE5B5B,cAAcgB,QAAQC,IAEdC,IAAWD,EAAQc,KAEfd,EAAQI,UAAUQ,SAAS,qBAC3BZ,EAAQI,UAAUG,OAAO,qBAEzBP,EAAQI,UAAUC,IAAI,wBAK9Bf,YAAYa,UACZb,YAAYa,SAAU,GAE1BG,gBAGRhB,YAAYmB,iBAAiB,QAAS,KAC9BnB,YAAYa,SACZjB,UAAUa,QAAQC,IACdA,EAAQG,SAAU,IAEtBL,cAEAZ,UAAUa,QAAQC,IACdA,EAAQG,SAAU,IAEtBL,eAIRP,MAAMkB,iBAAiB,SAAYC,IAC/B,IAAIM,EAAYN,EAAEC,OAAOM,MAAM,GAAO,KACtCtB,WAAWuB,YAAcF,IAE7BvB,MAAMgB,iBAAiB,SAAYC,IAC/B,IAAIM,EAAYN,EAAEC,OAAOM,MAAM,GAAO,KACtCrB,WAAWsB,YAAcF,IAE7BtB,MAAMe,iBAAiB,SAAYC,IAC/B,IAAIM,EAAYN,EAAEC,OAAOM,MAAM,GAAO,KACtCpB,WAAWqB,YAAcF,IAQjC,SAASV,YACL,IAAIa,EAAc,EAElBjC,UAAUa,QAAQC,KACU,IAApBA,EAAQG,UACRgB,GAAeC,OAAOC,WAAWrB,EAAQsB,QAG7CnC,MAAMoC,UAAYJ,EAAYK,QAAQ,KAI9C,SAASC,mBACL,IAAIC,EAAiB,EACrBxC,UAAUa,QAAQC,IACd0B,GAAkBN,OAAOC,WAAWrB,EAAQsB,SAEhDjC,kBAAkBkC,UAAYG,EAAeF,QAAQ,GAAG,IAG5D,SAAStB,aAAcF,GAQnB,OAPWA,EAAQ2B,KAIFC,MAFJ,gBAIM,GAhIvB5C,SAASyB,iBAAiB,oBAAoB,WAC1CX,YAEAU","file":"servicios.js","sourcesContent":["const selectorPieza = document.querySelectorAll('.selector--pieza');\r\nconst formPieza = document.querySelectorAll('.form--pieza');\r\nconst total = document.querySelector('#precio-total');\r\nconst todasPiezasPrecio = document.querySelector('#todas-piezas--precio');\r\nconst todasPiezas = document.querySelector('#todas-piezas');\r\nconst file1 = document.getElementById('file1');\r\nconst file2 = document.getElementById('file2');\r\nconst file3 = document.getElementById('file3');\r\nconst labelFile1 = document.getElementById('label-file1');\r\nconst labelFile2 = document.getElementById('label-file2');\r\nconst labelFile3 = document.getElementById('label-file3');\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function(){\r\n    iniEstado();\r\n    //sumarTodasPiezas();\r\n    eventListenersServicios();\r\n})\r\n\r\n\r\nfunction iniEstado () {\r\n\r\n    formPieza.forEach(element => {\r\n        \r\n    let result = extraeNombre(element);\r\n       if (element.checked === true) {\r\n\r\n        let piezaSelector = document.querySelector(`#${result}`);\r\n        piezaSelector.classList.add('selector--marcada');\r\n        sumatorio();\r\n        \r\n    } else {\r\n        let piezaSelector = document.querySelector(`#${result}`);\r\n        piezaSelector.classList.remove('selector--marcada');\r\n        sumatorio();\r\n    }\r\n})\r\n}\r\n\r\nfunction eventListenersServicios () {\r\n    selectorPieza.forEach(element => {\r\n        element.addEventListener('click', (e)=> {\r\n            // Asigno la clase marcada\r\n            if (e.target.classList.contains('selector--marcada')) {\r\n                e.target.classList.remove('selector--marcada');\r\n            } else {\r\n                e.target.classList.add('selector--marcada');\r\n            }\r\n            // Marco o desmarco el checkbox\r\n            let part = e.target.id;\r\n            let ePart = document.querySelector(`input[name=\"pieza[${part}]\"]`);\r\n            if (ePart.checked === true) {\r\n                ePart.checked = false;\r\n            } else {\r\n                ePart.checked = true;\r\n            }\r\n            sumatorio();\r\n        })\r\n    });\r\n    formPieza.forEach(element => {\r\n        element.addEventListener('click', (e)=> {\r\n\r\n            let result = extraeNombre(e.target)\r\n            \r\n            selectorPieza.forEach(element => {\r\n\r\n                if (result === element.id) {\r\n\r\n                    if (element.classList.contains('selector--marcada')){\r\n                        element.classList.remove('selector--marcada');\r\n                    } else {\r\n                        element.classList.add('selector--marcada');\r\n                    }\r\n                } \r\n            }); \r\n\r\n            if (todasPiezas.checked) {\r\n                todasPiezas.checked = false;\r\n            }\r\n            sumatorio();\r\n        })\r\n    })\r\n    todasPiezas.addEventListener('click', () => {\r\n        if (todasPiezas.checked) {\r\n            formPieza.forEach(element => {\r\n                element.checked = true;\r\n            });\r\n            iniEstado();\r\n        } else {\r\n            formPieza.forEach(element => {\r\n                element.checked = false;\r\n            })\r\n            iniEstado();\r\n        }\r\n    })\r\n\r\n    file1.addEventListener('change' , (e)=> {\r\n        let filename = (e.target.files[0].name);\r\n        labelFile1.textContent = filename;\r\n    })\r\n    file2.addEventListener('change' , (e)=> {\r\n        let filename = (e.target.files[0].name);\r\n        labelFile2.textContent = filename;\r\n    })\r\n    file3.addEventListener('change' , (e)=> {\r\n        let filename = (e.target.files[0].name);\r\n        labelFile3.textContent = filename;\r\n    })\r\n    \r\n\r\n\r\n\r\n}\r\n\r\nfunction sumatorio () {\r\n    var precioTotal = 0;\r\n    \r\n    formPieza.forEach(element => {\r\n        if (element.checked === true){\r\n            precioTotal += Number.parseFloat(element.value);\r\n            //console.log(Number.parseFloat(element.value));\r\n        }\r\n        total.innerHTML = precioTotal.toFixed(2);\r\n    });\r\n}\r\n\r\nfunction sumarTodasPiezas () {\r\n    let precioCompleto = 0;\r\n    formPieza.forEach(element => {\r\n        precioCompleto += Number.parseFloat(element.value);\r\n    })\r\n    todasPiezasPrecio.innerHTML = precioCompleto.toFixed(2)+'€';\r\n}\r\n\r\nfunction extraeNombre (element) {\r\n    let name = element.name;\r\n    // Expresión regular para extraer dentro de []\r\n    let regexp = /\\[([^\\]]*)\\]/;\r\n    // Ejecutar match sobre la cadena\r\n    let match = name.match(regexp);\r\n    // El resultado se guarda en match[1]\r\n    let result = match[1]\r\n    return result;\r\n}\r\n"]}